$(function(){var t=$("[rel~=tooltip]"),i=!1,e=!1;t.bind("mouseenter",function(){if(i=$(this),tip=i.attr("title"),e=$('<div id="tooltip"></div>'),!tip||""==tip)return!1;i.removeAttr("title"),e.css("opacity",0).html(tip).appendTo("body");var t=function(){$(window).width()<1.5*e.outerWidth()?e.css("max-width",$(window).width()/2):e.css("max-width",340);var t=i.offset().left+i.outerWidth()/2-e.outerWidth()/2,o=i.offset().top-e.outerHeight()-20;if(0>t?(t=i.offset().left+i.outerWidth()/2-20,e.addClass("left")):e.removeClass("left"),t+e.outerWidth()>$(window).width()?(t=i.offset().left-e.outerWidth()+i.outerWidth()/2+20,e.addClass("right")):e.removeClass("right"),0>o){var o=i.offset().top+i.outerHeight();e.addClass("top")}else e.removeClass("top");e.css({left:t,top:o}).animate({top:"+=10",opacity:1},50)};t(),$(window).resize(t);var o=function(){e.animate({top:"-=10",opacity:0},50,function(){$(this).remove()}),i.attr("title",tip)};i.bind("mouseleave",o),e.bind("click",o)})});